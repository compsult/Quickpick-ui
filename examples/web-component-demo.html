<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quickpick Web Components Demo</title>
  <style>
    /* Host page styles — these should NOT leak into the widgets */
    * { box-sizing: border-box; }
    body {
      font-family: Georgia, 'Times New Roman', serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
      background: #f5f5f0;
      color: #333;
      line-height: 1.6;
    }
    h1 { color: #1a1a2e; margin-bottom: 8px; }
    h2 { color: #16213e; margin-top: 40px; }
    p.subtitle { color: #666; margin-top: 0; }
    .demo-section {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 24px;
      margin: 20px 0;
    }
    .event-log {
      background: #1a1a2e;
      color: #4ade80;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      padding: 12px 16px;
      border-radius: 6px;
      margin-top: 12px;
      max-height: 120px;
      overflow-y: auto;
      min-height: 40px;
    }
    .event-log:empty::before {
      content: 'Waiting for events...';
      color: #666;
      font-style: italic;
    }
    label { font-weight: bold; display: block; margin-bottom: 8px; }
    code {
      background: #eee;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
    }
    .controls {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    .controls button {
      padding: 6px 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #f9f9f9;
      cursor: pointer;
      font-size: 13px;
    }
    .controls button:hover { background: #eee; }
  </style>
</head>
<body>

  <h1>Quickpick Web Components</h1>
  <p class="subtitle">
    Standalone pickers via <code>&lt;script&gt;</code> tag &mdash; no React required.
    Works as a time picker or a generic data grid. Styles are fully encapsulated in Shadow DOM.
    On desktop, click the input and type to filter options &mdash; Enter selects the first match, Escape closes.
    Widgets with <code>auto-select-on-tab</code> support tab-through: tab in opens the picker, tab out auto-selects the first option &mdash; great for speeding up repetitive data entry.
  </p>

  <!-- ======== Appointment Time Picker ======== -->
  <h2>1. Appointment Time Picker</h2>
  <div class="demo-section">
    <label>Pick an appointment time:</label>
    <quickpick-appointment
      id="appt1"
      selected-date="2026-02-09"
      business-hours='{"monday":{"enabled":true,"start":"09:00","end":"17:00"},"tuesday":{"enabled":true,"start":"09:00","end":"17:00"},"wednesday":{"enabled":true,"start":"09:00","end":"17:00"},"thursday":{"enabled":true,"start":"09:00","end":"17:00"},"friday":{"enabled":true,"start":"09:00","end":"12:00"},"saturday":{"enabled":false},"sunday":{"enabled":false}}'
      label="Appointment Time"
      auto-select-on-tab
    ></quickpick-appointment>

    <div class="event-log" id="appt-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('appt1').setAttribute('selected-time','14:30')">
        Set to 2:30 PM
      </button>
      <button onclick="document.getElementById('appt1').setAttribute('selected-date','2026-02-13')">
        Change to Friday
      </button>
      <button onclick="document.getElementById('appt1').toggleAttribute('disabled')">
        Toggle Disabled
      </button>
    </div>
  </div>

  <!-- ======== Multiple Instances ======== -->
  <h2>2. Multiple Instances</h2>
  <div class="demo-section">
    <label>Morning slot:</label>
    <quickpick-appointment
      id="appt-morning"
      selected-date="2026-02-10"
      business-hours='{"tuesday":{"enabled":true,"start":"08:00","end":"12:00"}}'
      label="Morning Slot"
    ></quickpick-appointment>

    <label style="margin-top: 16px;">Afternoon slot:</label>
    <quickpick-appointment
      id="appt-afternoon"
      selected-date="2026-02-10"
      business-hours='{"tuesday":{"enabled":true,"start":"13:00","end":"17:00"}}'
      label="Afternoon Slot"
    ></quickpick-appointment>

    <div class="event-log" id="multi-log"></div>
  </div>

  <!-- ======== Generic Data: JSON Array of Objects ======== -->
  <h2>3. Generic Data &mdash; US States (JSON)</h2>
  <div class="demo-section">
    <label>Pick a US state:</label>
    <quickpick-appointment
      id="states1"
      placeholder="Choose a state"
      label="US State"
      data='[{"value":"AL","label":"Alabama"},{"value":"AK","label":"Alaska"},{"value":"AZ","label":"Arizona"},{"value":"AR","label":"Arkansas"},{"value":"CA","label":"California"},{"value":"CO","label":"Colorado"},{"value":"CT","label":"Connecticut"},{"value":"DE","label":"Delaware"},{"value":"FL","label":"Florida"},{"value":"GA","label":"Georgia"},{"value":"HI","label":"Hawaii"},{"value":"ID","label":"Idaho"},{"value":"IL","label":"Illinois"},{"value":"IN","label":"Indiana"},{"value":"IA","label":"Iowa"},{"value":"KS","label":"Kansas"},{"value":"KY","label":"Kentucky"},{"value":"LA","label":"Louisiana"},{"value":"ME","label":"Maine"},{"value":"MD","label":"Maryland"},{"value":"MA","label":"Massachusetts"},{"value":"MI","label":"Michigan"},{"value":"MN","label":"Minnesota"},{"value":"MS","label":"Mississippi"},{"value":"MO","label":"Missouri"},{"value":"MT","label":"Montana"},{"value":"NE","label":"Nebraska"},{"value":"NV","label":"Nevada"},{"value":"NH","label":"New Hampshire"},{"value":"NJ","label":"New Jersey"},{"value":"NM","label":"New Mexico"},{"value":"NY","label":"New York"},{"value":"NC","label":"North Carolina"},{"value":"ND","label":"North Dakota"},{"value":"OH","label":"Ohio"},{"value":"OK","label":"Oklahoma"},{"value":"OR","label":"Oregon"},{"value":"PA","label":"Pennsylvania"},{"value":"RI","label":"Rhode Island"},{"value":"SC","label":"South Carolina"},{"value":"SD","label":"South Dakota"},{"value":"TN","label":"Tennessee"},{"value":"TX","label":"Texas"},{"value":"UT","label":"Utah"},{"value":"VT","label":"Vermont"},{"value":"VA","label":"Virginia"},{"value":"WA","label":"Washington"},{"value":"WV","label":"West Virginia"},{"value":"WI","label":"Wisconsin"},{"value":"WY","label":"Wyoming"}]'
    ></quickpick-appointment>

    <div class="event-log" id="states-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('states1').setAttribute('selected-value','CA')">
        Set to California
      </button>
      <button onclick="document.getElementById('states1').setAttribute('selected-value','NY')">
        Set to New York
      </button>
    </div>
  </div>

  <!-- ======== Generic Data: Simple CSV ======== -->
  <h2>4. Generic Data &mdash; Simple CSV</h2>
  <div class="demo-section">
    <label>Pick a color:</label>
    <quickpick-appointment
      id="colors1"
      placeholder="Choose a color"
      label="Favorite Color"
      data="Red,Orange,Yellow,Green,Blue,Indigo,Violet,Black,White,Gray,Pink,Brown"
    ></quickpick-appointment>

    <div class="event-log" id="colors-log"></div>
  </div>

  <!-- ======== Generic Data: CSV with value:label pairs ======== -->
  <h2>5. Generic Data &mdash; Value:Label CSV</h2>
  <div class="demo-section">
    <label>Pick a service type:</label>
    <quickpick-appointment
      id="services1"
      placeholder="Choose a service"
      label="Service Type"
      data="PT:Physical Therapy,MT:Massage Therapy,AC:Acupuncture,CL:Life Coaching,PS:Psychoanalysis,WC:Wellness Coaching"
    ></quickpick-appointment>

    <div class="event-log" id="services-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('services1').setAttribute('selected-value','MT')">
        Set to Massage Therapy
      </button>
      <button onclick="document.getElementById('services1').toggleAttribute('disabled')">
        Toggle Disabled
      </button>
    </div>
  </div>

  <!-- ======== Business Hours Picker ======== -->
  <h2>6. Business Hours Picker</h2>
  <div class="demo-section">
    <label>Set opening hours:</label>
    <quickpick-hours
      id="hours1"
      start-time="09:00"
      end-time="17:00"
      auto-select-on-tab
    ></quickpick-hours>

    <div class="event-log" id="hours-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('hours1').setAttribute('start-time','07:00')">
        Set start to 7 AM
      </button>
      <button onclick="document.getElementById('hours1').setAttribute('end-time','20:00')">
        Set end to 8 PM
      </button>
      <button onclick="document.getElementById('hours1').toggleAttribute('disabled')">
        Toggle Disabled
      </button>
    </div>
  </div>

  <!-- ======== Bundle ======== -->
  <script src="../dist/quickpick.min.js"></script>

  <script>
    // Helper: append a line to an event log div
    function log(id, msg) {
      var el = document.getElementById(id);
      var line = document.createElement('div');
      line.textContent = new Date().toLocaleTimeString() + '  ' + msg;
      el.appendChild(line);
      el.scrollTop = el.scrollHeight;
    }

    // Appointment picker events
    document.getElementById('appt1').addEventListener('time-change', function (e) {
      log('appt-log', 'time-change → ' + e.detail.time);
    });

    // Multiple instances
    document.getElementById('appt-morning').addEventListener('time-change', function (e) {
      log('multi-log', 'Morning → ' + e.detail.time);
    });
    document.getElementById('appt-afternoon').addEventListener('time-change', function (e) {
      log('multi-log', 'Afternoon → ' + e.detail.time);
    });

    // Generic data events
    document.getElementById('states1').addEventListener('item-change', function (e) {
      log('states-log', 'item-change → ' + e.detail.value + ' (' + e.detail.label + ')');
    });
    document.getElementById('colors1').addEventListener('item-change', function (e) {
      log('colors-log', 'item-change → ' + e.detail.value);
    });
    document.getElementById('services1').addEventListener('item-change', function (e) {
      log('services-log', 'item-change → ' + e.detail.value + ' (' + e.detail.label + ')');
    });

    // Business hours events
    document.getElementById('hours1').addEventListener('start-time-change', function (e) {
      log('hours-log', 'start-time-change → ' + e.detail.time);
    });
    document.getElementById('hours1').addEventListener('end-time-change', function (e) {
      log('hours-log', 'end-time-change → ' + e.detail.time);
    });
  </script>

</body>
</html>
