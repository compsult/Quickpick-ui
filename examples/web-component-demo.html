<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quickpick Web Components Demo</title>
  <style>
    /* Host page styles — these should NOT leak into the widgets */
    * { box-sizing: border-box; }
    body {
      font-family: Georgia, 'Times New Roman', serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
      background: #f5f5f0;
      color: #333;
      line-height: 1.6;
    }
    h1 { color: #1a1a2e; margin-bottom: 8px; }
    h2 { color: #16213e; margin-top: 40px; }
    p.subtitle { color: #666; margin-top: 0; }
    .demo-section {
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 24px;
      margin: 20px 0;
    }
    .event-log {
      background: #1a1a2e;
      color: #4ade80;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      padding: 12px 16px;
      border-radius: 6px;
      margin-top: 12px;
      max-height: 120px;
      overflow-y: auto;
      min-height: 40px;
    }
    .event-log:empty::before {
      content: 'Waiting for events...';
      color: #666;
      font-style: italic;
    }
    label { font-weight: bold; display: block; margin-bottom: 8px; }
    code {
      background: #eee;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
    }
    .controls {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    .controls button {
      padding: 6px 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #f9f9f9;
      cursor: pointer;
      font-size: 13px;
    }
    .controls button:hover { background: #eee; }
  </style>
</head>
<body>

  <h1>Quickpick Web Components</h1>
  <p class="subtitle">
    Standalone time pickers via <code>&lt;script&gt;</code> tag &mdash; no React required.
    Styles are fully encapsulated in Shadow DOM.
  </p>

  <!-- ======== Appointment Time Picker ======== -->
  <h2>1. Appointment Time Picker</h2>
  <div class="demo-section">
    <label>Pick an appointment time:</label>
    <quickpick-appointment
      id="appt1"
      selected-date="2026-02-09"
      business-hours='{"monday":{"enabled":true,"start":"09:00","end":"17:00"},"tuesday":{"enabled":true,"start":"09:00","end":"17:00"},"wednesday":{"enabled":true,"start":"09:00","end":"17:00"},"thursday":{"enabled":true,"start":"09:00","end":"17:00"},"friday":{"enabled":true,"start":"09:00","end":"12:00"},"saturday":{"enabled":false},"sunday":{"enabled":false}}'
    ></quickpick-appointment>

    <div class="event-log" id="appt-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('appt1').setAttribute('selected-time','14:30')">
        Set to 2:30 PM
      </button>
      <button onclick="document.getElementById('appt1').setAttribute('selected-date','2026-02-13')">
        Change to Friday
      </button>
      <button onclick="document.getElementById('appt1').toggleAttribute('disabled')">
        Toggle Disabled
      </button>
    </div>
  </div>

  <!-- ======== Multiple Instances ======== -->
  <h2>2. Multiple Instances</h2>
  <div class="demo-section">
    <label>Morning slot:</label>
    <quickpick-appointment
      id="appt-morning"
      selected-date="2026-02-10"
      business-hours='{"tuesday":{"enabled":true,"start":"08:00","end":"12:00"}}'
    ></quickpick-appointment>

    <label style="margin-top: 16px;">Afternoon slot:</label>
    <quickpick-appointment
      id="appt-afternoon"
      selected-date="2026-02-10"
      business-hours='{"tuesday":{"enabled":true,"start":"13:00","end":"17:00"}}'
    ></quickpick-appointment>

    <div class="event-log" id="multi-log"></div>
  </div>

  <!-- ======== Business Hours Picker ======== -->
  <h2>3. Business Hours Picker</h2>
  <div class="demo-section">
    <label>Set opening hours:</label>
    <quickpick-hours
      id="hours1"
      start-time="09:00"
      end-time="17:00"
    ></quickpick-hours>

    <div class="event-log" id="hours-log"></div>

    <div class="controls">
      <button onclick="document.getElementById('hours1').setAttribute('start-time','07:00')">
        Set start to 7 AM
      </button>
      <button onclick="document.getElementById('hours1').setAttribute('end-time','20:00')">
        Set end to 8 PM
      </button>
      <button onclick="document.getElementById('hours1').toggleAttribute('disabled')">
        Toggle Disabled
      </button>
    </div>
  </div>

  <!-- ======== Bundle ======== -->
  <script src="../dist/quickpick.min.js"></script>

  <script>
    // Helper: append a line to an event log div
    function log(id, msg) {
      var el = document.getElementById(id);
      var line = document.createElement('div');
      line.textContent = new Date().toLocaleTimeString() + '  ' + msg;
      el.appendChild(line);
      el.scrollTop = el.scrollHeight;
    }

    // Appointment picker events
    document.getElementById('appt1').addEventListener('time-change', function (e) {
      log('appt-log', 'time-change → ' + e.detail.time);
    });

    // Multiple instances
    document.getElementById('appt-morning').addEventListener('time-change', function (e) {
      log('multi-log', 'Morning → ' + e.detail.time);
    });
    document.getElementById('appt-afternoon').addEventListener('time-change', function (e) {
      log('multi-log', 'Afternoon → ' + e.detail.time);
    });

    // Business hours events
    document.getElementById('hours1').addEventListener('start-time-change', function (e) {
      log('hours-log', 'start-time-change → ' + e.detail.time);
    });
    document.getElementById('hours1').addEventListener('end-time-change', function (e) {
      log('hours-log', 'end-time-change → ' + e.detail.time);
    });
  </script>

</body>
</html>
